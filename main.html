<!DOCTYPE html>
<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  <style>
    body,
    html {
      background-color: #555555;
      color: #FFFFFF;
      overflow: hidden;
    }

    /* The Modal (background) */
    .modal {
      display: none;
      /* Hidden by default */
      position: fixed;
      /* Stay in place */
      z-index: 1;
      /* Sit on top */
      padding-top: 100px;
      /* Location of the box */
      left: 0;
      top: 0;
      width: 100%;
      /* Full width */
      height: 100%;
      /* Full height */
      overflow: auto;
      /* Enable scroll if needed */
      background-color: rgb(0, 0, 0);
      /* Fallback color */
      background-color: rgba(0, 0, 0, 0.4);
      /* Black w/ opacity */
    }

    /* Modal Content */
    .modal-content {
      background-color: #2a2b33;
      margin: auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      color: 'black';
      text-align: center;
    }

    /* The Close Button */
    .close {
      color: #aaaaaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: #000;
      text-decoration: none;
      cursor: pointer;
    }

    a:link,
    a:visited {
      background-color: black;
      color: white;
    }

    a:hover,
    a:active {
      background-color: white;
      color: black;
    }

    .ticker-tape {
      height: 12%;
      width: 100vw;
      background-color: #FFFFFF;
      color: #000000;
      text-align: center;
      border: 1px solid #555555;
    }

    .search {

      width: 100%;
      height: 2%;
      background-color: #000000;
      color: gray;
      text-indent: 30px;
      font-size: 90%;
      padding: 2rem;
      border: 1px solid #555555;

    }

    /* First column */
    .news {
      width: 30%;
      height: 30vh;
      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;
      overflow: scroll;
      overflow-x: hidden;
    }

    .chart {
      width: 40%;
      height: 30vh;
      background-color: #000000;
      padding: 1%;
      color: #FFFFFF;
      border: 1px solid #555555;
      flex-wrap: inherit;
    }

    .forex {
      width: 30%;
      height: 30vh;
      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;
    }

    .econ {
      width: 33.33%;
      height: 30vh;
      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;

    }

    .com {
      width: 33.33%;
      height: 30vh;
      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;
      font-size: medium;
    }

    .sectors {
      width: 33.33%;
      height: 30vh;

      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;

    }

    .countries {
      width: 50%;
      height: 30vh;
      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;
    }

    .port {
      width: 50%;
      height: 30vh;
      background-color: #000000;
      color: #FFFFFF;
      padding: 1%;
      text-align: center;
      border: 1px solid #555555;

    }

    .test {
      width: 100%;
      flex: 1;
    }

    .cont {
      display: block;
      width: 100vw;
      height: 20vh;
    }
  </style>
</head>

<body>
  <div class="ticker-tape">
    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
      <div class="tradingview-widget-container__widget"></div>
      <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js"
        async>
          {
            "symbols"= [
              {
                "description": "NASDAQ 100",
                "proName": "NASDAQ:NDX"
              },
              {
                "description": "JP Morgan Chase & Co.",
                "proName": "NYSE:JPM"
              },
              {
                "description": "ProShares Ultra Bloomberg Crude Oil",
                "proName": "AMEX:UCO"
              },
              {
                "description": "ProShares Short Real Estate",
                "proName": "AMEX:REK"
              },
              {
                "description": "Apple, Inc.",
                "proName": "NASDAQ:AAPL"
              },
              {
                "description": "Tesla, Inc.",
                "proName": "NASDAQ:TSLA"
              }
            ],
              "showSymbolLogo"= true,
                "colorTheme"= "light",
                  "isTransparent"= true,
                    "largeChartUrl"= "",
                      "displayMode"= "adaptive",
                        "locale"= "en"
          }
        </script>
    </div>
  </div>
  <!-- TradingView Widget END -->

  <input type="text" class="search" autocomplete="off" id="search" onkeydown="esckeyPressed(event, this);"
    placeholder="Search a stock or commodity..."></input>

  <div class="container cont">
    <div class="row test">
      <div class="col-lg-4 news">
        <p style="font-size:large">NEWS</p>
        <iframe id='iframeembed' style="height: 80%; width: 90%;"
          src="https://embeds.rss2html.net/embed?url=https%3A%2F%2Ffeeds.a.dj.com%2Frss%2FWSJcomUSBusiness.xml&amp;embed_title_replacement=&amp;feed_title_fallback=&amp;feed_render_image=0&amp;feed_render_link=0&amp;feed_render_description=0">
          </script>
        </iframe>
      </div>
      <div class="col-lg-4 chart">
        <div class="tradingview-widget-container">
          <div id="tradingview_888b5"></div>
          <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/symbols/AMEX-SPY/"
              rel="noopener" target="_blank"><span class="blue-text">SPY chart</span></a> by TradingView</div>
          <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
          <script type="text/javascript">
            new TradingView.widget(
              {
                "autosize": true,
                "symbol": "AMEX:SPY",
                "interval": "1",
                "timezone": "exchange",
                "theme": "dark",
                "style": "1",
                "locale": "en",
                "toolbar_bg": "#f1f3f6",
                "enable_publishing": false,
                "hide_top_toolbar": true,
                "hide_legend": true,
                "details": true,
                "save_image": false,
                "container_id": "tradingview_888b5",
                width: "100%",
                height: "100%"
              }
            );
          </script>

        </div>
      </div>
      <div class="col-lg-4 forex">

        <p style="font-size:large">FOREX RATES</p>
        <p style="font-size:small">One US Dollar is equal to...</p>
        <a href="https://finance.yahoo.com/chart/EURUSD=X">Euro
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='euro'></span></a><br>
        <a href="https://finance.yahoo.com/chart/JPY=X">Japanese Yen
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='jpy'></span></a><br>
        <a href="https://finance.yahoo.com/chart/RUB=X">Ruble
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='rub'></span></a><br>
        <a href="https://finance.yahoo.com/chart/CNY=X">Chinese Yuan
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='cny'></span></a><br>
        <a href="https://finance.yahoo.com/chart/CAD=X">Canadian Dollar
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='cad'></span></a><br>

      </div>
    </div>
    <div class="row test">
      <div class="col-lg-4 econ">
        <p style="font-size:large">COUNTRIES</p>
        <div class="container">

          <div class="row">
            <a class="col-sm-4" id="us" href="http://localhost:3000/unitedstates">&nbsp;</a><a class="col-sm-1"
              href="http://localhost:3000/public/usa/uspowerindex.pdf"><img height="20px"
                src="http://localhost:3000/public/file.png"> <br> </a>

          </div>
          <div class="row">
            <a class="col-sm-4" id="rus" href="http://localhost:3000/russia">&nbsp;</a> <a class="col-sm-1"
              href="http://localhost:3000/public/russia/russiapowerindex.pdf"><img height="20px"
                src="http://localhost:3000/public/file.png"> <br> </a>
          </div>
        </div>
        <br>
        <a href="https://economicprinciples.org/downloads/cwo-power-index.pdf">POWER INDEX</a>

      </div>
      <div class="col-lg-4 com">
        <p style="font-size:large">COMMODITIES</p>

        <a href="https://www.tradingview.com/chart/?symbol=TVC%3AUSOIL">Crude Oil &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='cl'></span></a><br>
        <a href="https://www.wsj.com/market-data/quotes/futures/US/HEATING%20OIL">Heating Oil
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='ho'></span></a><br>
        <a href="https://www.tradingview.com/chart/j7eLyx6J/?symbol=TVC%3AGOLD">Gold &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='gc'></span></a><br>
        <a href="https://www.tradingview.com/chart/j7eLyx6J/?symbol=TVC%3ASILVER">Silver &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='sl'></span></a><br>
        <a href="https://www.tradingview.com/chart/?symbol=CBOT%3AZW1%21"> Wheat &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='wt'></span></a><br>
        <a href="https://www.tradingview.com/chart/j7eLyx6J/?symbol=ICEUS%3AKC1%21">Coffee &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='cof'></span></a><br>
        <a href="https://www.tradingview.com/chart/j7eLyx6J/?symbol=NYMEX%3ARB1%21">Gasoline
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='ga'></span></a><br>

      </div>

      <div class="col-lg-4 sectors">
        <p style="font-size:large">SECTORS</p>
        <a href="https://finance.yahoo.com/chart/^SP500-15">Materials
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='mat'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-30">Consumer Staples
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='staples'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-45">Technology &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='tech'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SPCSEFP">Financials
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='fin'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^GSPE">Energy &nbsp;&nbsp;&nbsp;&nbsp;<span id='ene'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-20">Industrials
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='ind'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-60">Real Estate
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='re'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-50">Communications &nbsp;&nbsp;&nbsp;&nbsp;<span
            id='com'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-55">Utilities
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='ut'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-25">Consumer Discretionary
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='cond'></span></a><br>
        <a href="https://finance.yahoo.com/chart/^SP500-35">Healthcare
          &nbsp;&nbsp;&nbsp;&nbsp;<span id='health'></span></a><br>
      </div>
    </div>
    <div class="row test">
      <div class="col-lg-5 port">
        <p style="font-size:large">PORTFOLIO</p>

        <p onclick="onmodal('ROTH IRA')">ROTH
          IRA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp $10,000
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp
          +50(1.56%)</p> <br>
        <p onclick="onmodal('401K')">401K
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp $1,500,000
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp
          +100(.2%)</p>
        <p> &nbsp;</p>
        <p> &nbsp;</p>
        <p> &nbsp;</p>
        <p> &nbsp;</p>
        <p> &nbsp;</p>
        <p> &nbsp;</p>

      </div>

      <div class="col-lg-4 countries">
        <p style="font-size:large">ECONOMIC RELEASES</p>
        <!-- TradingView Widget BEGIN -->
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/economic-calendar/"
              rel="noopener" target="_blank"><span class="blue-text">Economic calendar</span></a> by TradingView</div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-events.js"
            async>
              {
                "width"="100%",
                  "height"= "100%",
                    "colorTheme"= "dark",
                      "isTransparent"= true,
                        "locale"= "en",
                          "importanceFilter"= "0,1",
                            "currencyFilter"= "USD"
              }
            </script>
        </div>
        <!-- TradingView Widget END -->

      </div>

    </div>
    <div id="portmodal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <span onclick=offmodal() class="close">&times;</span>
        <p id="porttitle">title</p>
        <div class="container">
          <div style="font-size: 17px" class="row">
            <b class="col-lg-2">Holding</b>
            <b class="col-lg-2">Shares</b>
            <b class="col-lg-2">Cost Basis</b>
            <b class="col-lg-2">Current Price</b>
            <b class="col-lg-2">Change</b>
          </div>
          <hr />

          <div class="row">
            <p class="col-lg-2">REK</p>
            <p class="col-lg-2">300</p>
            <p class="col-lg-2">44,000 (30p.s.)</p>
            <p class="col-lg-2">28,500 (19p.s.)</p>
            <p class="col-lg-2">-16,000(2.56%)</p>
          </div>
          <hr />

          <div class="row">
            <p class="col-lg-2">UNP</p>
            <p class="col-lg-2">300</p>
            <p class="col-lg-2">24,000 (80p.s.)</p>
            <p class="col-lg-2">28,500 (95p.s.)</p>
            <p class="col-lg-2">+3,000(2.56%)</p>
          </div>
          <hr />

          <div class="row">
            <p class="col-lg-3">Ticker</p>
            <p class="col-lg-3">Shares Purchased</p>
            <p class="col-lg-3">Price Paid</p>

          </div>
          <div class="row">
            <form action="http://localhost:3000/addholding" method="POST">

              <input type="text" class="col-lg-3" style='background-color: #000000; color: #FFFFFF' name="ticker"></input>
              <input type="text" class="col-lg-3" style='background-color: #000000; color: #FFFFFF' name="shares"></input>

              <input type="text" class="col-lg-3" style='background-color: #000000; color: #FFFFFF' name="price"></input>
              <button type="submit" style="color:#000000" class="col-lg-3">Add Holding</button>

            </form>
          </div>

        </div>

      </div>

    </div>
</body>

<script>
  var modal = document.getElementById("portmodal");
  var rus = '';

  function onmodal(txt) {
    modal.style.display = 'block';
    document.getElementById('porttitle').innerHTML = txt;
  }
  function offmodal() {
    modal.style.display = 'none';
  }
  function esckeyPressed(event, input) {
    var code = event.charCode || event.keyCode; //Read key input
    if (code == 27) {                          //If esc key is pressed
      input.value = '';  //clear the search box
    }

  }
  $(document).ready(function () {
    $('#container').width($(window).width());
  });

  function getdata(url, id) {
    fetch(url).then(function (response) {
      // The API call was successful!
      if (id == 'com') {
        response.json().then((data) => {
          let ccol = '';
          let scol = '';
          let wcol = '';
          let gcol = '';
          let cofcol = '';
          let hcol = '';
          let gascol = '';
          if (data[0]['crude'].includes('-')) {
            ccol = 'red';
          } else {
            ccol = 'green';
          }
          if (data[1]['Silver'].includes('-')) {
            scol = 'red';
          } else {
            scol = 'green';
          }
          if (data[2]['Gold'].includes('-')) {
            gcol = 'red';
          } else {
            gcol = 'green';
          }
          if (data[3]['Wheat'].includes('-')) {
            wcol = 'red';
          } else {
            wcol = 'green';
          }
          if (data[4]['coffee'].includes('-')) {
            cofcol = 'red';
          } else {
            cofcol = 'green';
          }
          if (data[5]['heat'].includes('-')) {
            hcol = 'red';
          } else {
            hcol = 'green';
          }
          if (data[6]['gas'].includes('-')) {
            gascol = 'red';
          } else {
            gascol = 'green';
          }

          document.getElementById('cl').innerHTML = '<span style="color:' + ccol + '">' + data[0]['crude'] + '</span>';
          document.getElementById('sl').innerHTML = '<span style="color:' + scol + '">' + data[1]['Silver'] + '</span>';
          document.getElementById('gc').innerHTML = '<span style="color:' + gcol + '">' + data[2]['Gold'] + '</span>';
          document.getElementById('wt').innerHTML = '<span style="color:' + wcol + '">' + data[3]['Wheat'] + '</span>';
          document.getElementById('cof').innerHTML = '<span style="color:' + cofcol + '">' + data[4]['coffee'] + '</span>';
          document.getElementById('ho').innerHTML = '<span style="color:' + hcol + '">' + data[5]['heat'] + '</span>';
          document.getElementById('ga').innerHTML = '<span style="color:' + gascol + '">' + data[6]['gas'] + '</span>';

        })
      }
      if (id == "sec") {
        response.json().then((data) => {
          let ccol = '';
          let scol = '';
          let wcol = '';
          let gcol = '';
          let cofcol = '';
          let hcol = '';
          let gascol = '';
          let comcol = '';
          let utcol = '';
          let condcol = '';
          let healthcol = '';
          if (data[0]['staples'].includes('-')) {
            ccol = 'red';
          } else {
            ccol = 'green';
          }
          if (data[1]['mat'].includes('-')) {
            scol = 'red';
          } else {
            scol = 'green';
          }
          if (data[2]['tech'].includes('-')) {
            gcol = 'red';
          } else {
            gcol = 'green';
          }
          if (data[3]['re'].includes('-')) {
            wcol = 'red';
          } else {
            wcol = 'green';
          }
          if (data[4]['ind'].includes('-')) {
            cofcol = 'red';
          } else {
            cofcol = 'green';
          }
          if (data[5]['fin'].includes('-')) {
            hcol = 'red';
          } else {
            hcol = 'green';
          }
          if (data[6]['ene'].includes('-')) {
            gascol = 'red';
          } else {
            gascol = 'green';
          }
          if (data[7]['com'].includes('-')) {
            comcol = 'red';
          } else {
            comcol = 'green';
          }
          if (data[8]['ut'].includes('-')) {
            utcol = 'red';
          } else {
            utcol = 'green';
          }
          if (data[9]['cond'].includes('-')) {
            condcol = 'red';
          } else {
            condcol = 'green';
          }
          if (data[10]['health'].includes('-')) {
            healthcol = 'red';
          } else {
            healthcol = 'green';
          }
          document.getElementById('staples').innerHTML = '<span style="color:' + ccol + '">' + data[0]['staples'] + '</span>';
          document.getElementById('mat').innerHTML = '<span style="color:' + scol + '">' + data[1]['mat'] + '</span>';
          document.getElementById('tech').innerHTML = '<span style="color:' + gcol + '">' + data[2]['tech'] + '</span>';
          document.getElementById('re').innerHTML = '<span style="color:' + wcol + '">' + data[3]['re'] + '</span>';
          document.getElementById('ind').innerHTML = '<span style="color:' + cofcol + '">' + data[4]['ind'] + '</span>';
          document.getElementById('fin').innerHTML = '<span style="color:' + hcol + '">' + data[5]['fin'] + '</span>';
          document.getElementById('ene').innerHTML = '<span style="color:' + gascol + '">' + data[6]['ene'] + '</span>';
          document.getElementById('com').innerHTML = '<span style="color:' + comcol + '">' + data[7]['com'] + '</span>';
          document.getElementById('ut').innerHTML = '<span style="color:' + utcol + '">' + data[8]['ut'] + '</span>';
          document.getElementById('cond').innerHTML = '<span style="color:' + condcol + '">' + data[9]['cond'] + '</span>';
          document.getElementById('health').innerHTML = '<span style="color:' + healthcol + '">' + data[10]['health'] + '</span>';

        })
      } else if (id == 'curr') {
        response.json().then((data) => {
          let e = '';
          let j = '';
          let r = '';
          let c = '';
          let cn = '';

          if (data[0]['EUR/USD'].includes('-')) {
            e = 'red';
          } else {
            e = 'green';
          }
          if (data[1]['JPY/USD'].includes('-')) {
            j = 'red';
          } else {
            j = 'green';
          }
          if (data[2]['RUB/USD'].includes('-')) {
            r = 'red';
          } else {
            r = 'green';
          }
          if (data[3]['CNY/USD'].includes('-')) {
            c = 'red';
          } else {
            c = 'green';
          }
          if (data[4]['CAD/USD'].includes('-')) {
            cn = 'red';
          } else {
            cn = 'green';
          }
          document.getElementById('euro').innerHTML = '<span style="color:' + e + '">' + data[0]['EUR/USD'] + '</span>';
          document.getElementById('jpy').innerHTML = '<span style="color:' + j + '">' + data[1]['JPY/USD'] + '</span>';
          document.getElementById('rub').innerHTML = '<span style="color:' + r + '">' + data[2]['RUB/USD'] + '</span>';
          document.getElementById('cny').innerHTML = '<span style="color:' + c + '">' + data[3]['CNY/USD'] + '</span>';
          document.getElementById('cad').innerHTML = '<span style="color:' + cn + '">' + data[4]['CAD/USD'] + '</span>';


        })
      }
      return response.text();
    }).then(function (html) {

      // Convert the HTML string into a document object
      var parser = new DOMParser();
      var doc = parser.parseFromString(html, 'text/html');
      document.getElementById(id).innerHTML = new XMLSerializer().serializeToString(doc);

    }).catch(function (err) {
      // There was an error
      console.warn('Something went wrong.', err);
    });
  }
 

  getdata('http://localhost:3000/rus-stock-index-data-320588309485', 'rus');
  getdata('http://localhost:3000/us-stock-index-data-320588309485', 'us');
  getdata('http://localhost:3000/commodities', 'com');
  getdata('http://localhost:3000/sectors', 'sec');
  getdata('http://localhost:3000/forex', 'curr');
</script>

</html>